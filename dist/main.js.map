{"version":3,"sources":["main.js"],"names":["EasyAjax","baseUrl","xhr","XMLHttpRequest","query","Promise","resolve","reject","open","addEventListener","ev","target","error","Error","name","message","data","send","response","JSON","parse"],"mappings":";;;;;;AAAA,IAAIA,WAAY,YAAW;AAAA,KACpBA,QADoB;AAEzB,oBAAYC,OAAZ,EAAqB;AAAA;;AACpB,QAAKA,OAAL,GAAeA,OAAf;AACA,QAAKC,GAAL,GAAW,IAAIC,cAAJ,EAAX;AACA;;AALwB;AAAA;AAAA,uBAOrBC,KAPqB,EAOd;AAAA;;AACV,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,SAAIL,MAAM,MAAKA,GAAf;AACAA,SAAIM,IAAJ,CAAS,KAAT,EAAgB,MAAKP,OAAL,GAAeG,KAA/B,EAAsC,IAAtC;AACAF,SAAIO,gBAAJ,CAAqB,MAArB,EAA6B,UAASC,EAAT,EAAa;AACzCJ,cAAQI,GAAGC,MAAX;AACA,MAFD;AAGAT,SAAIO,gBAAJ,CAAqB,OAArB,EAA8B,UAAUC,EAAV,EAAc;AAC3C,UAAIE,QAAQ,IAAIC,KAAJ,EAAZ;AACAD,YAAME,IAAN,GAAa,UAAb;AACAF,YAAMG,OAAN,GAAgB,eAAhB;AACAH,YAAMI,IAAN,GAAaN,GAAGC,MAAhB;AACAJ,aAAOK,KAAP;AACA,MAND;AAOAV,SAAIe,IAAJ;AACA,KAdM,CAAP;AAeA;AAvBwB;AAAA;AAAA,wBAyBpBb,KAzBoB,EAyBbY,IAzBa,EAyBP;AAAA;;AACjB,WAAO,IAAIX,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,SAAIL,MAAM,OAAKA,GAAf;AACAA,SAAIM,IAAJ,CAAS,MAAT,EAAiB,OAAKP,OAAL,GAAeG,KAAhC,EAAuC,IAAvC;AACAF,SAAIO,gBAAJ,CAAqB,MAArB,EAA6B,UAASC,EAAT,EAAa;AACzC,UAAIQ,WAAWC,KAAKC,KAAL,CAAWV,GAAGC,MAAH,CAAUO,QAArB,CAAf;AACAZ,cAAQY,QAAR;AACA,MAHD;AAIAhB,SAAIO,gBAAJ,CAAqB,OAArB,EAA8B,UAAUC,EAAV,EAAc;AAC3C,UAAIE,QAAQ,IAAIC,KAAJ,EAAZ;AACAD,YAAME,IAAN,GAAa,UAAb;AACAF,YAAMG,OAAN,GAAgB,eAAhB;AACAH,YAAMI,IAAN,GAAaN,GAAGC,MAAhB;AACAJ,aAAOK,KAAP;AACA,MAND;AAOAV,SAAIe,IAAJ,CAASD,IAAT;AACA,KAfM,CAAP;AAgBA;AA1CwB;AAAA;AAAA,8BA4Cdf,OA5Cc,EA4CL;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACA;AA9CwB;;AAAA;AAAA;;AAiD1B,QAAOD,QAAP;AACA,CAlDc,EAAf","file":"main.js","sourcesContent":["let EasyAjax = (function() {\n\tclass EasyAjax {\n\t\tconstructor(baseUrl) {\n\t\t\tthis.baseUrl = baseUrl;\n\t\t\tthis.xhr = new XMLHttpRequest();\n\t\t}\n\n\t\tget(query) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet xhr = this.xhr;\n\t\t\t\txhr.open('GET', this.baseUrl + query, true);\n\t\t\t\txhr.addEventListener('load', function(ev) {\n\t\t\t\t\tresolve(ev.target);\n\t\t\t\t});\n\t\t\t\txhr.addEventListener('error', function (ev) {\n\t\t\t\t\tlet error = new Error();\n\t\t\t\t\terror.name = 'UrlError';\n\t\t\t\t\terror.message = 'Incorrect URL';\n\t\t\t\t\terror.data = ev.target;\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t\t\txhr.send();\t\t\n\t\t\t});\n\t\t}\n\n\t\tpost(query, data) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet xhr = this.xhr;\n\t\t\t\txhr.open('POST', this.baseUrl + query, true);\n\t\t\t\txhr.addEventListener('load', function(ev) {\n\t\t\t\t\tlet response = JSON.parse(ev.target.response);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\txhr.addEventListener('error', function (ev) {\n\t\t\t\t\tlet error = new Error();\n\t\t\t\t\terror.name = 'UrlError';\n\t\t\t\t\terror.message = 'Incorrect URL';\n\t\t\t\t\terror.data = ev.target;\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t\t\txhr.send(data);\t\t\n\t\t\t});\n\t\t}\n\n\t\tsetBaseUrl(baseUrl) {\n\t\t\tthis.baseUrl = baseUrl;\n\t\t}\n\t}\n\n\treturn EasyAjax;\n})();"],"sourceRoot":"/source/"}